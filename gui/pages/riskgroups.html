<h1>Risk Groups</h1>
<p>
    Group your slaves into groups which share an common (physical) fault source to reduce replica set
    downtimes in case of a fault.
</p>
<form ng-submit="createRiskGroup()">
    <table width="100%">
        <tr>
            <td><input type="text" placeholder="New Risk Group Name" class="form-control"
                       ng-model="new_riskgroup.name"/></td>
            <td>
                <button class="btn btn-success">Create</button>
            </td>
        </tr>
    </table>
</form>
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="headingOne">
            <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" data-target="#collapseOne" href=""
                   aria-expanded="true"
                   aria-controls="collapseOne">
                    Unassigned slaves
                </a><span data-toggle="tooltip" data-placement="right"
                          title="Slaves need to be in 'disabled' state to be assignable to a risk group."><span
                    class="glyphicon glyphicon-question-sign" aria-hidden="true"></span></span>
            </h4>
        </div>
        <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
            <ul class="list-group">
                <li ng-repeat="slave in unassigned_slaves" class="list-group-item">{{slave.hostname}}
                        <span class="pull-right">Assign to
                            <select>
                                <option value="0" selected>Select group..</option>
                                <option ng-repeat="riskgroup in riskgroups"
                                        value="{{riskgroup.id}}">{{riskgroup.name}}</option>
                            </select>
                        </span>
                </li>
            </ul>
        </div>
    </div>
    <div ng-repeat="riskgroup in riskgroups" class="panel panel-default">
        <div class="panel-heading" data-toggle="collapse" role="tab" id="heading{{riskgroup.id}}">
            <h4 class="panel-title">
                <a class="collapsed" role="button" href="" data-toggle="collapse"
                   data-target="#collapse{{riskgroup.id}}" data-parent="#accordion" aria-expanded="false"
                   aria-controls="collapse{{riskgroup.id}}">
                    {{riskgroup.name}}
                </a>
            </h4>
        </div>
        <div id="collapse{{riskgroup.id}}" class="panel-collapse collapse" role="tabpanel"
             aria-labelledby="heading{{riskgroup.id}}">
            <div class="panel-body">
            </div>
        </div>
    </div>
</div>
